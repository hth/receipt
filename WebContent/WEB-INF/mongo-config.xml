<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context" 
	xmlns:mongo="http://www.springframework.org/schema/data/mongo"
	xsi:schemaLocation="http://www.springframework.org/schema/context
          http://www.springframework.org/schema/context/spring-context-3.0.xsd
          http://www.springframework.org/schema/data/mongo
          http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd
          http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
	
	<!-- ==================== -->
	<!-- MongoDB Setup Starts -->
	<!-- ==================== -->
	<!-- mkyong example is bit not bean instantiated style -->
	<!-- http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/ -->
	<!-- http://blog.jeroenreijn.com/2011/07/getting-started-with-mongodb-and-spring.html -->	
	
	<!-- Refer for GridFSTemplate -->
	<!-- http://jeviathon.com/2012/08/14/why-you-should-be-using-mongodbgridfs-and-spring-data/ -->
	<!-- http://support.cloudfoundry.com/entries/20073453-spring-data-mongodb-unauthorized-mappingmongoconverter -->
	<!-- http://stackoverflow.com/questions/10501300/remove-class-from-mongodb-document -->
	
	<!-- Define the MongoTemplate which handles connectivity with MongoDB -->	
	<bean id="mongoTemplate" class="org.springframework.data.mongodb.core.MongoTemplate">
		<constructor-arg name="mongo" ref="mongo"/>
		<constructor-arg name="databaseName" value="rm"/>
	</bean>
	
	<!-- Factory bean that creates the Mongo instance -->
    <bean id="mongo" class="org.springframework.data.mongodb.core.MongoFactoryBean">
    	<property name="host" value="localhost"/>
    	<property name="port" value="27017"/>
    </bean>
	
	<!-- Use this post processor to translate any MongoExceptions thrown in @ReceiptUser annotated classes -->
    <bean class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor"/>
	
	<!-- ==================== -->
	<!-- MongoDB Setup Ends   -->
	<!-- ==================== -->
	
	<!-- mkyong example is bit old style -->
	<!-- http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/ -->
	<!-- Database settings -->	
	<!-- 
	<mongo:mongo host="localhost" port="27017" />
	<mongo:db-factory dbname="rm" />
 
	<bean id="mongoTemplate"  class="org.springframework.data.mongodb.core.MongoTemplate">
		<constructor-arg name="mongoDbFactory" ref="mongoDbFactory" />
	</bean> 
	-->

</beans>